(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/free-ui/free-chat-item"],{344:function(e,t,i){"use strict";i.r(t);var n=i(345),o=i(347);for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i(349);var a,s=i(34),u=Object(s["default"])(o["default"],n["render"],n["staticRenderFns"],!1,null,"5376c07c",null,!1,n["components"],a);u.options.__file="components/free-ui/free-chat-item.vue",t["default"]=u.exports},345:function(e,t,i){"use strict";i.r(t);var n=i(346);i.d(t,"render",(function(){return n["render"]})),i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]})),i.d(t,"recyclableRender",(function(){return n["recyclableRender"]})),i.d(t,"components",(function(){return n["components"]}))},346:function(e,t,i){"use strict";var n;i.r(t),i.d(t,"render",(function(){return o})),i.d(t,"staticRenderFns",(function(){return a})),i.d(t,"recyclableRender",(function(){return r})),i.d(t,"components",(function(){return n}));try{n={uRate:function(){return Promise.all([i.e("common/vendor"),i.e("uni_modules/uview-ui/components/u-rate/u-rate")]).then(i.bind(null,325))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,t=e.$createElement,i=(e._self._c,"system"===e.item.type||e.item.isremove||"1"==e.item.type||"emoticon"===e.item.type||"2"==e.item.type||"3"===e.item.type||"video"===e.item.type||"card"===e.item.type||"12"!=e.item.type?null:JSON.parse(e.item.data)),n="system"===e.item.type||e.item.isremove||"1"==e.item.type||"emoticon"===e.item.type||"2"==e.item.type||"3"===e.item.type||"video"===e.item.type||"card"===e.item.type||"12"!=e.item.type?null:JSON.parse(e.item.data),o="system"===e.item.type||e.item.isremove||"1"==e.item.type||"emoticon"===e.item.type||"2"==e.item.type||"3"===e.item.type||"video"===e.item.type||"card"===e.item.type||"12"!=e.item.type?null:JSON.parse(e.item.data),r="system"===e.item.type||e.item.isremove||"1"==e.item.type||"emoticon"===e.item.type||"2"==e.item.type||"3"===e.item.type||"video"===e.item.type||"card"===e.item.type||"12"!=e.item.type?null:JSON.parse(e.item.data),a="system"===e.item.type||e.item.isremove||"1"==e.item.type||"emoticon"===e.item.type||"2"==e.item.type||"3"===e.item.type||"video"===e.item.type||"card"===e.item.type||"12"!=e.item.type?null:JSON.parse(e.item.data),s="system"===e.item.type||e.item.isremove||"1"==e.item.type||"emoticon"===e.item.type||"2"==e.item.type||"3"===e.item.type||"video"===e.item.type||"card"===e.item.type||"12"==e.item.type||"11"!=e.item.type?null:JSON.parse(e.item.data),u="system"===e.item.type||e.item.isremove||"1"==e.item.type||"emoticon"===e.item.type||"2"==e.item.type||"3"===e.item.type||"video"===e.item.type||"card"===e.item.type||"12"==e.item.type||"11"!=e.item.type?null:JSON.parse(e.item.data),c="system"===e.item.type||e.item.isremove||"1"==e.item.type||"emoticon"===e.item.type||"2"==e.item.type||"3"===e.item.type||"video"===e.item.type||"card"===e.item.type||"12"==e.item.type||"11"!=e.item.type?null:JSON.parse(e.item.data);e._isMounted||(e.e0=function(t){e.reservation(JSON.parse(e.item.data))},e.e1=function(t){e.callPhone(JSON.parse(e.item.data))},e.e2=function(t){e.replaceLawyer(JSON.parse(e.item.data))}),e.$mp.data=Object.assign({},{$root:{g0:i,g1:n,g2:o,g3:r,g4:a,g5:s,g6:u,g7:c}})},r=!1,a=[];o._withStripped=!0},347:function(e,t,i){"use strict";i.r(t);var n=i(348),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},348:function(e,t,i){"use strict";(function(e){var n=i(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i(58)),r=n(i(60)),a=n(i(11)),s=n(i(530)),u=i(164);function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){(0,a.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p=function(){i.e("components/free-ui/free-avater").then(function(){return resolve(i(531))}.bind(null,i)).catch(i.oe)},d=function(){i.e("components/free-ui/free-image").then(function(){return resolve(i(536))}.bind(null,i)).catch(i.oe)},l={components:{freeAvater:p,freeImage:d},props:{item:Object,index:Number,pretime:[Number,String],shownickname:{type:Boolean,default:!1}},data:function(){return{innerAudioContext:null,audioPlaying:!1,poster:{w:100,h:100}}},computed:m(m({},(0,u.mapState)({user:function(e){return e.userInfo},chat:function(e){return e.chat}})),{},{isself:function(){var e=this.user.userId?this.user.userId:0;return this.item.from_id===e},showTime:function(){return s.default.getChatTime(this.item.create_time||this.item.date||this.item.update_time,new Date(this.pretime).getTime())},hasLabelClass:function(){return"1"==this.item.type||"3"===this.item.type},labelClass:function(){var e=this.hasLabelClass?"bg-chat-item mr-3":"mr-3";return this.isself?e:"bg-white ml-3"},nicknameClass:function(){var e=this.isself?"justify-end":"";return e+" "+this.labelClass},labelStyle:function(){if("3"===this.item.type){var e=this.item.options.time||0,t=parseInt(e)/.12;return t=t<150?150:t,"width:".concat(t,"rpx;")}},posterIconStyle:function(){var t=this.poster.w/2-e.upx2px(80)/2,i=this.poster.h/2-e.upx2px(80)/2;return"left:".concat(t,"px;top:").concat(i,"px;")}}),mounted:function(){"3"===this.item.type&&this.audioOn(this.onPlayAudio)},destroyed:function(){"3"===this.item.type&&this.audioOff(this.onPlayAudio),this.innerAudioContext&&(this.innerAudioContext.destroy(),this.innerAudioContext=null)},methods:m(m({},(0,u.mapActions)(["audioOn","audioEmit","audioOff"])),{},{reservation:function(t){e.navigateTo({url:"/pages/reservation/reservation",success:function(e){e.eventChannel.emit("info",t)}})},callPhone:function(t){this.$http.lawyerNumberOfServices(t.id),e.makePhoneCall({phoneNumber:t.phone})},replaceLawyer:function(t){var i=this;return(0,r.default)(o.default.mark((function n(){var r,a,s;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.getStorageSync("lawyer")?e.getStorageSync("lawyer"):[],a=!0,r.forEach((function(e){e==t.id&&(a=!1)})),a&&r.push(t.id),e.setStorageSync("lawyer",r),n.next=7,i.$http.getLawyer({lawyerPoIds:r,goodAtCase:""});case 7:s=n.sent,200==s.code?i.chat.replaceLawyer(m(m({},s.data),{},{chatRoomNumber:i.chat.TO.chatRoomNumber})):e.showToast({title:s.msg,icon:"none"});case 9:case"end":return n.stop()}}),n)})))()},stop:function(){},openUser:function(){e.navigateTo({url:"/pages/mail/user-base/user-base?user_id="+this.item.from_id})},openUserBase:function(){e.navigateTo({url:"/pages/mail/user-base/user-base?user_id="+this.item.options.id})},loadPoster:function(e){this.poster.w=e.w,this.poster.h=e.h},onPlayAudio:function(e){this.innerAudioContext&&this.index!==e&&this.innerAudioContext.pause()},openAudio:function(){var t=this;this.audioEmit(this.index),this.innerAudioContext?(this.innerAudioContext.stop(),this.innerAudioContext.play()):(this.innerAudioContext=e.createInnerAudioContext(),this.innerAudioContext.src=this.item.data,this.innerAudioContext.play(),this.innerAudioContext.onPlay((function(){t.audioPlaying=!0})),this.innerAudioContext.onPause((function(){t.audioPlaying=!1})),this.innerAudioContext.onStop((function(){t.audioPlaying=!1})),this.innerAudioContext.onError((function(){t.audioPlaying=!1})))},preview:function(e){this.$emit("preview",e)},long:function(e){if("system"!==this.item.type&&!this.item.isremove){var t=0,i=0;t=e.detail.x,i=e.detail.y,this.$emit("long",{x:t,y:i,index:this.index})}},openVideo:function(){e.navigateTo({url:"/pages/chat/video/video?url="+this.item.data})}})};t.default=l}).call(this,i(2)["default"])},349:function(e,t,i){"use strict";i.r(t);var n=i(350),o=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=o.a},350:function(e,t,i){}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/free-ui/free-chat-item.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/free-ui/free-chat-item-create-component',
    {
        'components/free-ui/free-chat-item-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('2')['createComponent'](__webpack_require__(344))
        })
    },
    [['components/free-ui/free-chat-item-create-component']]
]);
