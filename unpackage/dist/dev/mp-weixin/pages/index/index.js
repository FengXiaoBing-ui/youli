(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{169:function(t,e,n){"use strict";(function(t,e){var r=n(4);n(26);r(n(25));var a=r(n(170));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n(1)["default"],n(2)["createPage"])},170:function(t,e,n){"use strict";n.r(e);var r=n(171),a=n(173);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n(179);var i,c=n(39),u=Object(c["default"])(a["default"],r["render"],r["staticRenderFns"],!1,null,"57280228",null,!1,r["components"],i);u.options.__file="pages/index/index.vue",e["default"]=u.exports},171:function(t,e,n){"use strict";n.r(e);var r=n(172);n.d(e,"render",(function(){return r["render"]})),n.d(e,"staticRenderFns",(function(){return r["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return r["recyclableRender"]})),n.d(e,"components",(function(){return r["components"]}))},172:function(t,e,n){"use strict";var r;n.r(e),n.d(e,"render",(function(){return a})),n.d(e,"staticRenderFns",(function(){return i})),n.d(e,"recyclableRender",(function(){return o})),n.d(e,"components",(function(){return r}));var a=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.branchList,(function(e,n){var r=t.__get_orig(e),a=e.distance.m.toString().length;return{$orig:r,g0:a}})));t.$mp.data=Object.assign({},{$root:{l0:n}})},o=!1,i=[];a._withStripped=!0},173:function(t,e,n){"use strict";n.r(e);var r=n(174),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=a.a},174:function(t,e,n){"use strict";(function(t){var r=n(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n(31)),o=r(n(33)),i=r(n(11)),c=r(n(175)),u=n(164);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=new c.default.QQMapWX({key:"E7EBZ-RX2CN-JVRFG-SQVDG-FFK66-4BB6T"}),d={data:function(){return{statusBarHeight:this.StatusBarHeight,fnList:[{name:"线上咨询",url:n(176),path:"/pages/chat/chat"},{name:"线下网点",url:n(177),path:"/pages/branch/branch"},{name:"法律援助",url:n(178),path:"/pages/assistApply/assistApply"}],branchList:[],m:""}},computed:l({},(0,u.mapState)(["latlong","userInfo"])),onShow:function(){this.getLocation()},onLoad:function(){var e=this;t.$on("loginSuccess",(function(t){e.getAppletList()}))},methods:l(l({},(0,u.mapMutations)(["setLatLong"])),{},{jump:function(e){var n=this,r=this;"/pages/chat/chat"!=e?t.navigateTo({url:e}):this.$http.onlineUser().then(function(){var i=(0,o.default)(a.default.mark((function o(i){var c,u;return a.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(500!=i.code){a.next=2;break}return a.abrupt("return",t.showToast({title:i.msg,icon:"none"}));case 2:return a.next=4,n.$http.createChat({date:new Date,isRead:0,text:" ",type:"-1",userIdFrom:r.userInfo.userId,userIdTo:i.data.userId});case 4:c=a.sent,u={to_id:i.data.userId,to_name:i.data.nickName,to_avatar:i.data.avatar,chat_type:"1",chatRoomNumber:c.data},t.navigateTo({url:e+"?params="+encodeURIComponent(JSON.stringify(u))});case 7:case"end":return a.stop()}}),o)})));return function(t){return i.apply(this,arguments)}}())},cultivate:function(){t.navigateTo({url:"/pages/cultivate/cultivate"})},reservation:function(e){t.navigateTo({url:"/pages/reservation/reservation",success:function(t){t.eventChannel.emit("info",e)}})},getAppletList:function(){var t=this;return(0,o.default)(a.default.mark((function e(){var n,r;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t,e.next=3,t.$http.appletList();case 3:r=e.sent,console.log(r),r.rows.forEach((function(t){t.distance=n.$util.getDistances(t.latitude,t.longitude,n.latlong.latitude,n.latlong.longitude)})),t.branchList=r.rows;case 7:case"end":return e.stop()}}),e)})))()},getLocation:function(){var e=this;t.getLocation({type:"gcj02",geocode:!0,isHighAccuracy:!0,highAccuracyExpireTime:4e3,timeout:5,success:function(t){console.log("获取经纬度成功",t),f.reverseGeocoder({location:{latitude:t.latitude,longitude:t.longitude},success:function(t){console.log(t)}}),e.setLatLong({latitude:t.latitude,longitude:t.longitude}),e.getAppletList()},fail:function(t){console.log("获取经纬度失败",t)},complete:function(t){console.log("???",t)}})}})};e.default=d}).call(this,n(2)["default"])},179:function(t,e,n){"use strict";n.r(e);var r=n(180),a=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=a.a},180:function(t,e,n){}},[[169,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map